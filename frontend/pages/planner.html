<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WanderPlan - Travel Itinerary Planner</title>
    <link rel="stylesheet" href="../styles/global.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="planner-page">
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
      <div class="loading-spinner">
        <div class="spinner"></div>
        <p>Loading your itinerary...</p>
      </div>
    </div>

    <!-- Navigation Bar -->
    <nav class="navbar">
      <div class="nav-container">
        <div class="nav-brand">
          <a href="home.html"><h1>WanderTrip</h1></a>
        </div>
        <div class="nav-menu">
          <a href="planner.html" class="nav-item active">My Plan</a>
          <a href="my-trips.html" class="nav-item">My Trips</a>
          <a href="destinations.html" class="nav-item">Destinations</a>
          <a href="my-account.html" class="nav-item">My Account</a>
        </div>
        <div class="nav-profile">
          <div class="profile-avatar">ðŸ‘¤</div>
        </div>
      </div>
    </nav>

    <div class="app-container">
      <!-- Header Section -->
      <header class="app-header">
        <div class="header-content">
          <div class="header-title">
            <h1>Travel Itinerary</h1>
            <div class="destination-info">
              <span id="destination-name">Loading...</span>
              <span id="trip-dates"></span>
            </div>
          </div>
        </div>
      </header>

      <!-- Main Content Area -->
      <main class="main-content">
        <!-- Activity Sidebar -->
        <aside class="activity-sidebar">
          <div class="sidebar-header">
            <h3>Available Activities</h3>
            <p>Click + to add activities to your itinerary</p>
          </div>
          <div class="activities-list" id="activityList">
            <!-- Activities will be dynamically populated here -->
          </div>
        </aside>

        <!-- Itinerary Days Container -->
        <section class="itinerary-container">
          <div class="days-grid" id="daysGrid">
            <!-- Day cards will be dynamically populated here -->
          </div>
        </section>
      </main>
    </div>

    <!-- Activity Modal -->
    <div id="activityModal" class="modal-overlay">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Edit Activity</h3>
          <button type="button" class="modal-close" id="modalClose">
            &times;
          </button>
        </div>
        <form id="activityForm" class="modal-form">
          <div class="modal-body">
            <div class="modal-form-section">
              <div class="form-group">
                <label for="activityName">Activity Name</label>
                <input type="text" id="activityName" name="activity" required />
              </div>
              <div class="form-group">
                <label for="activityDescription">Description</label>
                <textarea
                  id="activityDescription"
                  name="description"
                  rows="3"
                ></textarea>
              </div>
              <div class="form-group">
                <label for="activityTime">Time</label>
                <input type="time" id="activityTime" name="time" required />
              </div>
              <div class="form-group">
                <label for="activityDuration">Duration</label>
                <input
                  type="text"
                  id="activityDuration"
                  name="duration"
                  placeholder="e.g., 1-2 hours"
                />
                <div class="modal-actions">
                  <button type="button" id="cancelEdit" class="btn-secondary">
                    Cancel
                  </button>
                  <button type="button" id="deleteActivity" class="btn-danger">
                    Delete
                  </button>
                  <button type="submit" class="btn-primary">Save</button>
                </div>
              </div>
            </div>
            <div class="modal-sidebar">
              <div class="place-image-container">
                <img
                  id="placeImage"
                  class="place-image"
                  src=""
                  alt="Place image"
                  style="display: none"
                />
                <div id="imagePlaceholder" class="image-placeholder">
                  ðŸ“· Loading image...
                </div>
              </div>

              <div class="maps-container">
                <iframe
                  id="googleMapsEmbed"
                  class="maps-iframe"
                  src=""
                  allowfullscreen=""
                  loading="lazy"
                  referrerpolicy="no-referrer-when-downgrade"
                >
                </iframe>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>

    <script src="../scripts/planner-app.js"></script>
  </body>
</html>
